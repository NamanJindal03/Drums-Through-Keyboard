<!DOCTYPE html>
<html>
<head>
	<title>JS DRUM KIT</title>
	<link rel="stylesheet" type="text/css" href="p1.css">
	<script type="text/javascript" src="p1.js"></script>
</head>
<body>
	<div class="drums">
		<div data-key="65" class="individual_drum">
			<div class="drum_name">A</div>
			<div class="tune">CLAP</div>
		</div>
		<div data-key="66" class="individual_drum">
			<div class="drum_name">B</div>
			<div class="tune">CLAP</div>
		</div>
		<div data-key="67" class="individual_drum">
			<div class="drum_name">C</div>
			<div class="tune">CLAP</div>
		</div>
		<div data-key="68" class="individual_drum">
			<div class="drum_name">D</div>
			<div class="tune">CLAP</div>
		</div>
		<div data-key="69" class="individual_drum">
			<div class="drum_name">E</div>
			<div class="tune">CLAP</div>
		</div>
		<div data-key="70" class="individual_drum">
			<div class="drum_name">F</div>
			<div class="tune">CLAP</div>
		</div>
		<div data-key="71" class="individual_drum">
			<div class="drum_name">G</div>
			<div class="tune">CLAP</div>
		</div>
		<div data-key="72" class="individual_drum">
			<div class="drum_name">H</div>
			<div class="tune">CLAP</div>
		</div>
		<div data-key="73" class="individual_drum">
			<div class="drum_name">I</div>
			<div class="tune">CLAP</div>
		</div>
	</div>
	<audio data-key="65" src="sounds/clap.wav"></audio>
  <audio data-key="66" src="sounds/hihat.wav"></audio>
  <audio data-key="67" src="sounds/kick.wav"></audio>
  <audio data-key="68" src="sounds/openhat.wav"></audio>
  <audio data-key="69" src="sounds/boom.wav"></audio>
  <audio data-key="70" src="sounds/ride.wav"></audio>
  <audio data-key="71" src="sounds/snare.wav"></audio>
  <audio data-key="72" src="sounds/tom.wav"></audio>
  <audio data-key="73" src="sounds/tink.wav"></audio>
	<script>
		window.addEventListener('keydown', function(e){
			
			const audio=document.querySelector(`audio[data-key="${e.keyCode}"]`);
			const key = document.querySelector(`.individual_drum[data-key="${e.keyCode}"]`);
			if(!audio) return;
			audio.currentTime=0;
			key.classList.toggle('upgrade');
			audio.play()
		})

		const drums = document.querySelectorAll('.individual_drum');
		drums.forEach(key =>  key.addEventListener('transitionend', function(naman){
			if(naman.propertyName!== 'transform'){
				return;
			}
			console.log(naman.propertyName)
			this.classList.remove('upgrade');
		}))
	</script>
</body>
</html>